<% provide(:class_text, 'request_form_overtime') %>
<% provide(:button_text, '申請に返信する') %>

<h1><%= @user.nameからの残業申請%></h1>
  <div class="modal-body">
    <%= form_with(model: @attendance, url: attendances_request_form_overtime_user_path(@attendance), local: true, method: :patch) do |f| %>
      <table class="table table-bordered">
      
      <thead>
        <tr>
          <th>日付</th>
          <th>曜日</th>
          <th>終了予定時間</th>
          <th>指定勤務終了時間</th>
          <th>業務内容</th>
          <th>指示者確認㊞</th>
          <th>変更</th>
          <th>勤怠を確認する</th>
        </tr>
      </thead>
      
        <% @attendance.each do |overtime| %>
      
          <% css_class = case $days_of_the_week[@attendance.worked_on.wday]
  					when '土'
  						'text-primary'
  					when '日'
  						'text-danger'
  					end %>
          
          <tbody>
            <tr>
              <th><%= l(@attendance.worked_on, format: :short) %></th>
              <th class="<%= css_class %>"><%= $days_of_the_week[@attendance.worked_on.wday]%></th>
              <th><%= @attendance.finish_time %></th>
              <th><%= @attendance.work_contents %></th>
              <th><%= overtime.select :mark_of_instructor, [["なし"],["申請中"],["承認"],["否認"]]%></th>
              <th><%= overtime.check_box :"変更", id: "remember_me" %></th>
              <th><%= overtime.btn :"確認", class: "btn btn-primary" %></th>
              <th></th>
            </tr>
          </tbody>
      
        <table class="center">
          <%= f.submit yield(:button_text), class: "btn btn-block btn-primary btn-#{yield(:class_text)}" %>
        </table>
      </table>
    <% end %>
  </div>